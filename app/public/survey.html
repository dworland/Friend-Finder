<!DOCTYPE html>
<html>
<head>
	<title>Survey Questions</title>

		<!-- Link to the jQuery Library -->
  	<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>

  	<!-- Including Font Awesome Icons -->
  	<script src="https://use.fontawesome.com/b38c8ed4c7.js"></script>

	<!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

	<!--Import Google Font-->
    <link href="https://fonts.googleapis.com/css?family=Bungee+Shade" rel="stylesheet">

	<!-- Compiled and minified Materialize CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/css/materialize.min.css">

	<!-- Compiled and minified Materialize JavaScript -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/js/materialize.min.js"></script>
          
	<link rel="stylesheet" href="css/style.css">

</head>
<body>

<nav>

	<div class="nav-wrapper">

		<a href="#" class="brand-logo">Friend Finder</a>

		<ul id="nav-mobile" class="right links hide-on-med-and-down">

			<li><a href="/survey">Survey</a></li>

			<li><a href="/api/friends">Friends List</a></li>

			<li><a href="https://github.com/dworland/Friend-Finder">Github</a></li>

		</ul>

	</div>

</nav>

	<main>
		<div class="container z-depth-5 mainpanel">

			<div id="mainpanel-content">

				<div class="row">

					<div class="col s12">

						<h3 class="survey-questions">Survey Questions</h3>

						<div class="divider"></div>

						<div class="about">

							<h4>About You</h4>

						</div>

					</div>

				</div>

				<div class="row">

					<div class="input-field col s6 offset-s3">
						<h5>Name (Required)</h5>
						<i class="material-icons prefix">account_circle</i>
						<input type="text" class="validate" placeholder="Your Name Here" id="userName">
					</div>

					<div class="input-field col s6 offset-s3">
						<h5>Link to Photo Image (Required)</h5>
						<i class="material-icons prefix">picture_in_picture</i>
						<input type="text" class="validate" placeholder="Photo Link Here" id="userPhoto">
					</div>

				</div>

				<div class="divider"></div>

				<!-- Survey Questions -->
				<div class="row">
					<div class="col s11 offset-s1">
						<h5>Question 1</h5>
						<p class="question">Your mind is always buzzing with unexplored ideas and plans.</p>
					</div>
					<div class="col s3 offset-s1">
					  <select id="question1" class="browser-default">
					    <option value="" disabled selected>Choose your option</option>
					    <option value="1">1 (Strongly Disagree)</option>
						<option value="2">2</option>
						<option value="3">3</option>
						<option value="4">4</option>
						<option value="5">5 (Strongly Agree)</option>
					  </select>
					</div>
				</div>

				<div class="row">
					<div class="col s11 offset-s1">
						<h5>Question 2</h5>
						<p class="question">Generally speaking, you rely more on your experience than your imagination.</p>
					</div>
					<div class="col s3 offset-s1">
					  <select id="question2" class="browser-default">
					    <option value="" disabled selected>Choose your option</option>
					    <option value="1">1 (Strongly Disagree)</option>
						<option value="2">2</option>
						<option value="3">3</option>
						<option value="4">4</option>
						<option value="5">5 (Strongly Agree)</option>
					  </select>
					</div>
				</div>

				<div class="row">
					<div class="col s11 offset-s1">
						<h5>Question 3</h5>
						<p class="question">You find it easy to stay relaxed and focused even when there is some pressure.</p>
					</div>
					<div class="col s3 offset-s1">
					  <select id="question3" class="browser-default">
					    <option value="" disabled selected>Choose your option</option>
					    <option value="1">1 (Strongly Disagree)</option>
						<option value="2">2</option>
						<option value="3">3</option>
						<option value="4">4</option>
						<option value="5">5 (Strongly Agree)</option>
					  </select>
					</div>
				</div>

				<div class="row">
					<div class="col s11 offset-s1">
						<h5>Question 4</h5>
						<p class="question">You rarely do something just out of sheer curiosity.</p>
					</div>
					<div class="col s3 offset-s1">
					  <select id="question4" class="browser-default">
					    <option value="" disabled selected>Choose your option</option>
					    <option value="1">1 (Strongly Disagree)</option>
						<option value="2">2</option>
						<option value="3">3</option>
						<option value="4">4</option>
						<option value="5">5 (Strongly Agree)</option>
					  </select>
					</div>
				</div>

				<div class="row">
					<div class="col s11 offset-s1">
						<h5>Question 5</h5>
						<p class="question">People can rarely upset you.</p>
					</div>
					<div class="col s3 offset-s1">
					  <select id="question5" class="browser-default">
					    <option value="" disabled selected>Choose your option</option>
					    <option value="1">1 (Strongly Disagree)</option>
						<option value="2">2</option>
						<option value="3">3</option>
						<option value="4">4</option>
						<option value="5">5 (Strongly Agree)</option>
					  </select>
					</div>
				</div>

				<div class="row">
					<div class="col s11 offset-s1">
						<h5>Question 6</h5>
						<p class="question">It is often difficult for you to relate to other people’s feelings.</p>
					</div>
					<div class="col s3 offset-s1">
					  <select id="question6" class="browser-default">
					    <option value="" disabled selected>Choose your option</option>
					    <option value="1">1 (Strongly Disagree)</option>
						<option value="2">2</option>
						<option value="3">3</option>
						<option value="4">4</option>
						<option value="5">5 (Strongly Agree)</option>
					  </select>
					</div>
				</div>

				<div class="row">
					<div class="col s11 offset-s1">
						<h5>Question 7</h5>
						<p class="question">In a discussion, truth should be more important than people’s sensitivities.</p>
					</div>
					<div class="col s3 offset-s1">
					  <select id="question7" class="browser-default">
					    <option value="" disabled selected>Choose your option</option>
					    <option value="1">1 (Strongly Disagree)</option>
						<option value="2">2</option>
						<option value="3">3</option>
						<option value="4">4</option>
						<option value="5">5 (Strongly Agree)</option>
					  </select>
					</div>
				</div>

				<div class="row">
					<div class="col s11 offset-s1">
						<h5>Question 8</h5>
						<p class="question8">You rarely get carried away by fantasies and ideas.</p>
					</div>
					<div class="col s3 offset-s1">
					  <select id="question8" class="browser-default">
					    <option value="" disabled selected>Choose your option</option>
					    <option value="1">1 (Strongly Disagree)</option>
						<option value="2">2</option>
						<option value="3">3</option>
						<option value="4">4</option>
						<option value="5">5 (Strongly Agree)</option>
					  </select>
					</div>
				</div>

				<div class="row">
					<div class="col s11 offset-s1">
						<h5>Question 9</h5>
						<p class="question">You think that everyone’s views should be respected regardless of whether they are supported by facts or not.</p>
					</div>
					<div class="col s3 offset-s1">
					  <select id="question9" class="browser-default">
					    <option value="" disabled selected>Choose your option</option>
					    <option value="1">1 (Strongly Disagree)</option>
						<option value="2">2</option>
						<option value="3">3</option>
						<option value="4">4</option>
						<option value="5">5 (Strongly Agree)</option>
					  </select>
					</div>
				</div>

				<div class="row">
					<div class="col s11 offset-s1">
						<h5>Question 10</h5>
						<p class="question">You feel more energetic after spending time with a group of people.</p>
					</div>
					<div class="col s3 offset-s1">
					  <select id="question10" class="browser-default">
					    <option value="" disabled selected>Choose your option</option>
					    <option value="1">1 (Strongly Disagree)</option>
						<option value="2">2</option>
						<option value="3">3</option>
						<option value="4">4</option>
						<option value="5">5 (Strongly Agree)</option>
					  </select>
					</div>
				</div>

						<!-- Survey Submit Button -->
				<div class="row">
					<div class="submit col s11 offset-s1">
						<button class="btn waves-effect waves-light" type="submit" name="action" id="submitButton">Submit Responses
							<i class="material-icons right">send</i>
						</button>
					</div>
				</div>
			</div>
		</div>
	</main>

<footer class="page-footer black accent-2">

	<div class="container">

		<div class="row">

			<div class="col l6 s12">

				<h5 class="white-text">Friend Finder App</h5>

				<p class="grey-text text-lighten-4">Thank you for taking this breif survey!</p>

			</div>

			<div class="col l4 offset-l2 s12">

				<h5 class="white-text">Links</h5>

				<ul>
					<li><a class="grey-text text-lighten-3" href="/api/friends">Friends List</a></li>
					<li><a class="grey-text text-lighten-3" href="https://github.com/angrbrd/friend-finder">GitHub</a></li>
				</ul>

			</div>

		</div>

	</div>

	<div class="footer-copyright">

		<div class="container">

			© 2017 Devon Worland

		</div>

	</div>

</footer>

<!-- Modal Structure -->
<div id="modal1" class="modal modal-fixed-footer">
	<div class="modal-content">
		<h4>Meet Your Most Compatible Friend</h4>
		<h5 id="matchName"></h5>
        <img id="matchPic" src="" alt="No Image" width = 250px>
	</div>
	<div class="modal-footer">
		<a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat ">Agree</a>
	</div>
</div>


<!-- Grabs information and sends it to server -->
<script type="text/javascript">


$(document).ready(function(){

	$("#submitButton").on("click", function() {
		event.preventDefault();
		// console.log("working");

		var newFriend = {
            name: $('#userName').val().trim(),
            profilePic: $('#userPhoto').val().trim(),
            scores: [
                $('#question1').val(),
                $('#question2').val(),
                $('#question3').val(),
                $('#question4').val(),
                $('#question5').val(),
                $('#question6').val(),
                $('#question7').val(),
                $('#question8').val(),
                $('#question9').val(),
                $('#question10').val(),
            ]
        };

        // console.log("working");
        // console.log(newFriend.name);
        // console.log(newFriend.profilePic);

        //Grabs current URL of website
        var currentURL = window.location.origin;


        //AJAX posts the data to friends API
        $.post(currentURL + "/api/friends", newFriend, function(data) {
            //Grab the result from the AJAX post so that the best match's name and photo are displayed.
            $("#matchName").text(data.name);
            $("#matchPic").attr("src", data.profilePic);
        });

        // Show the modal with the best match
        $("#modal1").modal();

        //clear form after submission
        $('#userName').val("");
        $('#userPhoto').val("");
        $('#question1').val("");
        $('#question2').val("");
        $('#question3').val("");
        $('#question4').val("");
        $('#question5').val("");
        $('#question6').val("");
        $('#question7').val("");
        $('#question8').val("");
        $('#question9').val("");
        $('#question10').val(""); 

	});

});

</script>

</body>
</html>